

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>EBS Volumes and Deletion Policies &mdash; spotty 1.3.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/styles.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/scripts.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Caching Docker Image on an EBS Volume" href="caching-docker-image-on-an-ebs-volume.html" />
    <link rel="prev" title="Instance Parameters" href="instance-parameters.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/logo_400x130_grey.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.3.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user-guide/getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-guide/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-guide/configuration-file.html">Spotty Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/spotty.html">Spotty Command-line Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cli/spotty-start.html">spotty start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/spotty-stop.html">spotty stop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/spotty-sh.html">spotty sh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/spotty-sync.html">spotty sync</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/spotty-download.html">spotty download</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/spotty-run.html">spotty run</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/spotty-exec.html">spotty exec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/spotty-aws.html">spotty aws</a></li>
</ul>
</li>
</ul>
<p><span class="caption-text">Providers</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../local/overview.html">Local Provider</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../local/instance-parameters.html">Instance Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../remote/overview.html">Remote Provider</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../remote/instance-parameters.html">Instance Parameters</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">AWS Provider</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="instance-parameters.html">Instance Parameters</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">EBS Volumes and Deletion Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching-docker-image-on-an-ebs-volume.html">Caching Docker Image on an EBS Volume</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gcp/overview.html">GCP Provider</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gcp/account-preparation.html">GCP Account Preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gcp/instance-parameters.html">Instance Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gcp/disks-and-deletion-policies.html">Disks and Deletion Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gcp/caching-docker-image-on-a-disk.html">Caching Docker Image on a Disk</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">spotty</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="overview.html">AWS Provider Overview</a> &raquo;</li>
        
      <li>EBS Volumes and Deletion Policies</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="ebs-volumes-and-deletion-policies">
<h1>EBS Volumes and Deletion Policies<a class="headerlink" href="#ebs-volumes-and-deletion-policies" title="Permalink to this headline">Â¶</a></h1>
<p>By default, EBS volumes have names in the following format: <code class="docutils literal notranslate"><span class="pre">&lt;PROJECT_NAME&gt;-&lt;INSTANCE_NAME&gt;-&lt;VOLUME_NAME&gt;</span></code>.
But you can specify a custom name using the <code class="docutils literal notranslate"><span class="pre">volumeName</span></code> parameter.</p>
<p>When you're starting an instance:</p>
<ol class="simple">
<li><p>Spotty is looking for existing EBS volumes using their names. If a volume exists, it will be attached to the
instance.</p></li>
<li><p>If not - Spotty will be looking for a snapshot with the same name. If the snapshot exists, the volume will be
restored from that snapshot.</p></li>
<li><p>If neither snapshot nor volume with this name exists, new EBS volume will be created.</p></li>
</ol>
<p>When you're stopping the instance Spotty applies deletion policies for the volumes. There are 4 deletion policies that
can be specified using the <code class="docutils literal notranslate"><span class="pre">deletionPolicy</span></code> parameter:</p>
<ul class="simple">
<li><p><strong>Retain</strong>: this is the default deletion policy. The volume will retain, a snapshot won't be created.</p></li>
<li><p><strong>CreateSnapshot</strong>: Spotty will create a new snapshot every time you're stopping an instance, the old snapshot
will be renamed. AWS uses incremental snapshots, so each new snapshot keeps only the data that was changed since
the last snapshot made (see:
<a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSSnapshots.html#how_snapshots_work">How Incremental Snapshots Work</a>).</p></li>
<li><p><strong>UpdateSnapshot</strong>: a new snapshot will be created and the old one will be deleted.</p></li>
<li><p><strong>Delete</strong>: the volume will be deleted without creating a snapshot. All data on this volume will be lost.</p></li>
</ul>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="caching-docker-image-on-an-ebs-volume.html" class="btn btn-neutral float-right" title="Caching Docker Image on an EBS Volume" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="instance-parameters.html" class="btn btn-neutral float-left" title="Instance Parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>